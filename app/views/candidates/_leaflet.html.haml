#leaflet{style: 'height: 400px;cursor:crosshair'}

:javascript
  var map = L.map('leaflet').setView([#{@place.lat}, #{@place.lon}], 16);
  var tiles = L.tileLayer('http://{s}.tiles.mapbox.com/v3/sozialhelden.map-iqt6py1k/{z}/{x}/{y}.png64', {
      attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://opendatacommons.org/licenses/odbl/summary/">ODbL</a>, Tiles Â© <a href="http://mapbox.com">Mapbox</a>',
      maxZoom: 18
  }).addTo(map);

  var circle = L.circle([#{@place.lat}, #{@place.lon}], 150, {
      color: 'organge',
      fillColor: '#FE7101',
      fillOpacity: 0.4
  }).addTo(map);

  var markerIcon = L.icon({
    iconUrl: 'http://api.tiles.mapbox.com/v3/marker/pin-l-star+a22.png',
    iconRetinaUrl: 'http://api.tiles.mapbox.com/v3/marker/pin-l-star+a22@2x.png',
    iconSize: [36, 90],
    popupAnchor: [-3, -76],
  });

  var marker = L.marker([#{@place.lat}, #{@place.lon}], {
    icon: markerIcon,
    draggable: true
    }).addTo(map)


  map.attributionControl.setPrefix('');
  map.on('click', onMapClick);
  marker.on('dragend', onMarkerDrag)

  function onMarkerDrag(e) {
    console.log(e.target);
    $('#candidate_lat').val(e.target._latlng.lat);
    $('#candidate_lon').val(e.target._latlng.lng);
  }

  function onMapClick(e) {
    $('#candidate_lat').val(e.latlng.lat);
    $('#candidate_lon').val(e.latlng.lng);
    marker.setLatLng(e.latlng);
  }


